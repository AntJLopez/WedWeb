{% extends 'wedding/sections/section.html' %}
{% load staticfiles %}

{% block content %}
<div class="small-12 large-8 large-centered columns wrapper">
  {% if guest %}
    <form data-abide method="POST" class="rsvp-form custom" action="#" id="rsvp_form">
      {% csrf_token %}
      <fieldset class="rsvp-attendance">
        <legend>Will you be attending?</legend>
        <div class="large-6 columns">
          <label for="accept">
            <input name="attendance" type="radio" id="accept" style="display:none;" value=true required>
            <span class="custom radio accept"></span>
            <span class="radio-label">Absolutely!</span>
          </label>
        </div>
        <div class="large-6 columns">
          <label for="decline">
            <input name="attendance" type="radio" id="decline" style="display:none;" value=false required>
            <span class="custom radio decline"></span>
            <span class="radio-label">Sadly, no.</span>
          </label>
        </div>
      </fieldset>
      <fieldset class="rsvp-party attending">
        <legend>Who will be attending?</legend>
        {% for member in guest.party %}
          <label for="attendance_{{ member.id }}">
            <input type="checkbox" name="guests" id="attendance_{{ member.id }}">
            <span class="custom checkbox"></span>
            {% if member.unnamed %}
              <span class="name-wrapper">
                <input
                  type="text"
                  name="unnamed_first_{{ member.id }}"
                  id="unnamed_first_{{ member.id }}"
                  value="Guest First Name">
                <input
                  type="text"
                  name="unnamed_last_{{ member.id }}"
                  id="unnamed_last_{{ member.id }}"
                  value="Guest Last Name">
              </span>
            {% else %}
              <span class="checkbox-label">{{ member }}</span>
            {% endif %}
          </label>
        {% endfor %}
      </fieldset>
      <fieldset class="nights-onsite attending">
        <legend>How many nights will you be spending onsite?<br />(see above for costs)</legend>
        <div class="small-12 large-4 columns">
          <label for="onsite_0">
            <svg viewBox="0 0 100 100" class="icon">
              <use xlink:href="#zero" />
            </svg>
            <input type="radio" name="nights_onsite" id="onsite_0" value=0 required>
            <span class="custom radio onsite_0"></span>
            <span class="radio-label">I'm staying elsewhere.</span>
          </label>
        </div>
        <div class="small-12 large-4 columns">
          <label for="onsite_1">
            <svg viewBox="0 0 100 100" class="icon">
              <use xlink:href="#one" />
            </svg>
            <input type="radio" name="nights_onsite" id="onsite_1" value=1 required>
            <span class="custom radio onsite_1"></span>
            <span class="radio-label">I won't want to leave.</span>
          </label>
        </div>
        <div class="small-12 large-4 columns">
          <label for="onsite_2">
            <svg viewBox="0 0 100 100" class="icon">
              <use xlink:href="#two" />
            </svg>
            <input type="radio" name="nights_onsite" id="onsite_2" value=2 required>
            <span class="custom radio onsite_2"></span>
            <span class="radio-label">I won't miss a thing.</span>
          </label>
        </div>
      </fieldset>
      <fieldset class="rsvp-pay staying">
        <legend>How would you like to pay?</legend>
      </fieldset>
      <fieldset class="rsvp-activities attending">
        <legend>Which of the below activities interest you, if any?</legend>
        {{ rsvp_form.activities }}
      </fieldset>
      <fieldset class="rsvp-message">
        <legend>Is there a message you'd like to share with us?</legend>
        {{ rsvp_form.message }}
      </fieldset>
    </form>
  {% else %}
    <p>
      Please log in with the unique code from your invitation to RSVP.
    </p>
  {% endif %}
</div>
{% endblock %}
